# FLOW

1. สร้าง Repository กลาง (Source of Truth): ตั้ง Git Repo แยกออกมาเฉพาะสำหรับโปรเจกต์ Design Tokens เพื่อให้เป็นศูนย์กลางการคุมธีมเพียงจุดเดียว

2. เขียน Tokens เป็นไฟล์ JSON: จัดเก็บค่าสไตล์ต่างๆ (เช่น สี, ฟอนต์, ช่องไฟ) ให้อยู่ในฟอร์แมต JSON โดยอิงตามมาตรฐาน W3C DTCG

3. เผยแพร่แบบ Public: นำ Repo ขึ้นเป็น Public (หรือพับลิชเป็น NPM Package) เพื่อให้แอปพลิเคชันปลายทางดึงข้อมูลไปใช้ได้ง่ายๆ โดยไม่ต้องติดปัญหาเรื่อง Authentication

4. ดึงข้อมูลและแปลงไฟล์ (Fetch & Transform): ฝั่งแอปพลิเคชันปลายทาง ดึงไฟล์ JSON ลงมา แล้วใช้เครื่องมือ (แนะนำ Style Dictionary) แปลง JSON ให้กลายเป็น CSS Variables (หรือฟอร์แมตอื่นๆ ที่ต้องการ)

5. นำเข้า CSS แบบ Global: ในโปรเจกต์ Next.js ทำการ import ไฟล์ CSS ที่ได้จากข้อ 4 เข้าไปใน Global Style (เช่น layout.tsx หรือ globals.css) เพื่อให้ตัวแปรพร้อมใช้งานทั้งเว็บ

6. ทำระบบอัปเดตอัตโนมัติ (Automation): นำขั้นตอนดึงข้อมูลและแปลงไฟล์ไปผูกไว้กับสคริปต์ตอนรันโปรเจกต์ (ใน package.json) เพื่อให้ดึง Token เวอร์ชันล่าสุดมาสร้าง CSS ใหม่ทุกครั้งโดยอัตโนมัติ

7. ใช้ AI สร้าง Component (Vibe Coding): ส่งไฟล์ Token ที่ได้ ให้ AI (เช่น Cursor) เป็น Context เพื่อบังคับให้ AI เขียน UI Component โดยใช้ตัวแปรเหล่านั้นเท่านั้น